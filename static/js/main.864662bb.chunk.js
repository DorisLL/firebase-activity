(this["webpackJsonpfirebase-activity"]=this["webpackJsonpfirebase-activity"]||[]).push([[0],{54:function(e,t,a){e.exports=a(87)},59:function(e,t,a){},87:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(23),l=a.n(i),s=(a(59),a(24)),o=a(16),c=a(25),u=a(26),p=a(17),h=a(27),m=a(106),v=a(103),d=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{style:{marginLeft:"10px",width:"200px",display:"inline-block"}},Object.keys(this.props.inputs).map((function(t,a){return r.a.createElement("div",{key:a},r.a.createElement(v.a,null,e.props.inputs[t].label),r.a.createElement(m.a,{key:t,onChange:function(a,n){return e.props.onUpdate(n,t)},defaultValue:e.props.inputs[t].value,min:e.props.inputs[t].min,max:e.props.inputs[t].max}))})))}}]),t}(r.a.Component),g=a(43),f=a.n(g),b=a(35),y=a.n(b),E=a(44),k=a.n(E),x=2*Math.PI,S=new f.a,C=function(e){function t(){return Object(s.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return k.a.range(this.props.num_lines).map((function(t){for(var a=0,n=600*Math.random(e.props.seed),i=900*Math.random(e.props.seed),l=y()(i,n),s=!0,o="M".concat(i," ").concat(n);s;){var c=S.noise3D(l.x/e.props.noiseScale,l.y/e.props.noiseScale,e.props.seed)*x;l.add(y.a.fromAngle(c).setMag(e.props.stepLength)),s=l.x>=0&&l.x<=900&&l.y>=0&&l.y<=600&&a<e.props.max_steps,o+="L".concat(l.x," ").concat(l.y),a++}return r.a.createElement("path",{stroke:e.props.lineColor,strokeWidth:"1px",fill:"none",d:o,key:t})}))}}]),t}(r.a.Component);C.defaultProps={noiseScale:100,width:500,height:500,seed:1,num_lines:100,max_steps:10,stepLength:10,lineColor:"black"};var w=a(108),O=a(107),j={num_lines:{label:"Number of Lines",min:1,max:500,value:200},stepLength:{label:"Length of Each Step",min:1,max:100,value:30},max_steps:{label:"Maximum Number of Steps",min:1,max:500,value:200},noiseScale:{label:"Noise Scale",min:100,max:3e3,value:1e3}},I=a(45),L=a.n(I),A=a(105),M=a(50);function _(e){return r.a.createElement("div",null,e.svgs&&Object.keys(e.svgs).sort((function(t,a){var n=e.svgs[t].likes?Object.keys(e.svgs[t].likes).length:0,r=e.svgs[a].likes?Object.keys(e.svgs[a].likes).length:0;return console.log(n,r),r-n})).map((function(t,a){var n=e.svgs[t].likes?Object.keys(e.svgs[t].likes).length:0;return r.a.createElement(A.a,{style:{textAlign:"center",marginTop:"40px"},key:a},r.a.createElement(L.a,{src:e.svgs[t].svg}),e.showLikes&&r.a.createElement("span",{onClick:function(){return e.onClick(t)}},r.a.createElement(M.a,{fill:"red",style:{cursor:"pointer"}}),r.a.createElement("span",null,n)))})))}var R=a(46),U=a.n(R);function T(e){return r.a.createElement("div",{style:{margin:"20px",marginTop:"50px"}},r.a.createElement("h1",null,"My App"),r.a.createElement("p",null,"Please sign-in:"),r.a.createElement(U.a,{uiConfig:e.uiConfig,firebaseAuth:e.fbAuth()}))}var D=a(30),B=a(21),z=a(2),P=a.n(z);a(41),a(82);P.a.initializeApp({apiKey:"AIzaSyA3Qq8ALZ0RLZyThRCeX1WtyEymYr7zNlU",authDomain:"fir-952d8.firebaseapp.com",databaseURL:"https://fir-952d8.firebaseio.com",projectId:"fir-952d8",storageBucket:"fir-952d8.appspot.com",messagingSenderId:"896239704744",appId:"1:896239704744:web:0eb0d811207267973b409d",measurementId:"G-3HDCV3RNSQ"});var F={signInFlow:"popup",signInSuccessUrl:"",signInOptions:[P.a.auth.GoogleAuthProvider.PROVIDER_ID]},V=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={num_lines:j.num_lines.value,noiseScale:j.noiseScale.value,seed:1,max_steps:j.max_steps.value,stepLength:j.stepLength.value,lineColor:"#FF0000",backgroundColor:"#000000",isSignedIn:!1},a.favoritesRef=P.a.database().ref("favorites"),a.publicRef=P.a.database().ref("public"),a.publicRef.on("value",(function(e){console.log("something changed on firebase, so I will reset state"),a.setState({public:e.val()})})),a.like=a.like.bind(Object(p.a)(a)),a}return Object(h.a)(t,e),Object(o.a)(t,[{key:"handleChange",value:function(e,t){var a={};a[t]=e,this.setState(a)}},{key:"componentDidMount",value:function(){var e=this;this.unregisterAuthObserver=P.a.auth().onAuthStateChanged((function(t){t&&e.favoritesRef.child(t.uid).on("value",(function(t){console.log("the value of favorites/userid changed, so i reset the state"),e.setState({favorites:t.val()})}));e.setState({isSignedIn:!!t})}))}},{key:"componentWillUnmount",value:function(){this.unregisterAuthObserver()}},{key:"save",value:function(){var e=(new XMLSerializer).serializeToString(document.querySelector("svg"));this.favoritesRef.child(P.a.auth().currentUser.uid).push({svg:e,time:P.a.database.ServerValue.TIMESTAMP})}},{key:"share",value:function(){var e=(new XMLSerializer).serializeToString(document.querySelector("svg"));this.publicRef.push({svg:e,time:P.a.database.ServerValue.TIMESTAMP,likes:0})}},{key:"like",value:function(e){var t=this.publicRef.child(e+"/likes/"+P.a.auth().currentUser.uid);t.once("value").then((function(e){null===e.val()?t.set({val:1}):t.remove()}))}},{key:"render",value:function(){var e=this;return r.a.createElement(D.a,null,r.a.createElement("div",null,r.a.createElement(w.a,null,r.a.createElement("nav",null,r.a.createElement(O.a,null,r.a.createElement(D.b,{style:{textDecoration:"none",color:"white"},to:"/"},"Build")),r.a.createElement(O.a,null,r.a.createElement(D.b,{style:{textDecoration:"none",color:"white"},to:"/favorites"},"My Favorites")),r.a.createElement(O.a,null,r.a.createElement(D.b,{style:{textDecoration:"none",color:"white"},to:"/shared"},"Shared")),r.a.createElement(O.a,{style:{position:"fixed",right:"10px",color:"white"},onClick:function(){return P.a.auth().signOut()}},"Sign-out"))),r.a.createElement(B.d,null,r.a.createElement(B.b,{path:"/favorites"},P.a.auth().currentUser?r.a.createElement(_,{svgs:this.state.favorites}):r.a.createElement(B.a,{to:"/signIn"})),r.a.createElement(B.b,{path:"/shared"},P.a.auth().currentUser?r.a.createElement(_,{svgs:this.state.public,onClick:function(t){return e.like(t)},showLikes:!0}):r.a.createElement(B.a,{to:"/signIn"})),r.a.createElement(B.b,{path:"/signIn"},P.a.auth().currentUser?r.a.createElement(B.a,{to:"/"}):r.a.createElement(T,{uiConfig:F,fbAuth:P.a.auth})),r.a.createElement(B.b,{exact:!0,path:"/"},P.a.auth().currentUser?r.a.createElement("div",{style:{display:"inline-block",margin:"20px",marginTop:"50px"}},r.a.createElement("div",{style:{display:"inline-block",width:"300px"}},r.a.createElement(v.a,{variant:"h6",gutterBottom:!0},"Controls"),r.a.createElement(d,{onUpdate:this.handleChange.bind(this),inputs:j}),r.a.createElement("div",{style:{display:"inline-block"}},r.a.createElement("label",{htmlFor:"color"},"Line Color: "),r.a.createElement("input",{defaultValue:this.state.lineColor,type:"color",onChange:function(t){return e.handleChange(t.target.value,"lineColor")}})),r.a.createElement("div",{style:{display:"inline-block"}},r.a.createElement("label",{htmlFor:"color"},"Background Color: "),r.a.createElement("input",{type:"color",onChange:function(t){return e.handleChange(t.target.value,"backgroundColor")}})),r.a.createElement("div",null,r.a.createElement(O.a,{style:{width:"100px",marginBottom:"10px",display:"block"},variant:"contained",color:"primary",onClick:function(){return e.save()}},"Save"),r.a.createElement(O.a,{style:{width:"100px",marginBottom:"10px",display:"block"},variant:"contained",color:"primary",onClick:function(){return e.share()}},"Share"))),r.a.createElement("div",{style:{display:"inline-block",verticalAlign:"Top"}},r.a.createElement("svg",{height:600,width:900},r.a.createElement("rect",{height:600,width:900,fill:this.state.backgroundColor}),r.a.createElement(C,{num_lines:this.state.num_lines,max_steps:this.state.max_steps,stepLength:this.state.stepLength,noiseScale:this.state.noiseScale,lineColor:this.state.lineColor})))):r.a.createElement(B.a,{to:"/signIn"})))))}}]),t}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(V,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[54,1,2]]]);
//# sourceMappingURL=main.864662bb.chunk.js.map